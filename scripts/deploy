#!/bin/bash
set -e

echo "Building site..."
./build.sh

echo "Deploying to GitHub Pages..."
cd public

# Ensure public is a git repo (only needed once, but safe to repeat)
if [ ! -d ".git" ]; then
    git init
    git remote add origin git@github.com:nanaadane/nanaadane.github.io.git
    echo "Initialized public/ git repo."
fi

git add .
git commit -m "Deploy: $(date)"
git push -u origin master

echo "Deployed successfully!"
